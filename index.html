<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>HotPlay VOD</title>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>
    <style>
        :root { --red: #e50914; --bg: #141414; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; display: flex; height: 100vh; }
        
        /* ××¡×š ×‘×—×™×¨×ª ×¤×¨×•×¤×™×œ×™× */
        #profile-screen { position: fixed; inset: 0; background: var(--bg); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1000; }
        .profile-container { display: flex; gap: 30px; margin-top: 40px; }
        .profile-box { text-align: center; cursor: pointer; transition: 0.3s; }
        .profile-avatar { width: 150px; height: 150px; border-radius: 8px; border: 4px solid transparent; margin-bottom: 15px; background-size: cover; }
        .profile-box:focus .profile-avatar, .profile-box:hover .profile-avatar { border-color: white; transform: scale(1.1); }
        .profile-box:focus { outline: none; }

        /* ×ª×¤×¨×™×˜ ×¦×“×“×™ */
        .sidebar { width: 20%; background: #000; padding: 40px 20px; border-left: 2px solid #333; display: flex; flex-direction: column; }
        .nav-item { padding: 20px; font-size: 22px; cursor: pointer; border-radius: 10px; margin-bottom: 10px; }
        .nav-item:focus { background: var(--red); outline: none; }

        /* ××–×•×¨ ×ª×•×›×Ÿ */
        .content { width: 80%; padding: 50px; overflow-y: auto; }
        .row { display: flex; gap: 20px; padding: 20px 0; overflow-x: auto; }
        .card { min-width: 250px; background: #222; border-radius: 15px; overflow: hidden; transition: 0.3s; border: 3px solid transparent; cursor: pointer; }
        .card:focus { transform: scale(1.1); border-color: white; outline: none; }
        .card img { width: 100%; height: 150px; object-fit: cover; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="login-screen" style="width:100%; text-align:center; padding-top:20vh;">
        <h1 style="color:var(--red); font-size:80px;">HotPlay</h1>
        <button id="login-btn" class="nav-item" style="margin: 0 auto;" onclick="login()">×”×ª×—×‘×¨ ×¢× Google</button>
    </div>

    <div id="profile-screen" class="hidden">
        <h1 style="font-size: 50px;">××™ ×¦×•×¤×”?</h1>
        <div class="profile-container">
            <div class="profile-box" tabindex="0" onclick="selectProfile('× ×™×ª××™', 'https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png')">
                <div class="profile-avatar" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png');"></div>
                <span>× ×™×ª××™</span>
            </div>
            <div class="profile-box" tabindex="0" onclick="selectProfile('××•×¨×—', 'https://loodibee.com/wp-content/uploads/Netflix-Avatar-2.png')">
                <div class="profile-avatar" style="background-image: url('https://loodibee.com/wp-content/uploads/Netflix-Avatar-2.png');"></div>
                <span>××•×¨×—</span>
            </div>
        </div>
    </div>

    <div id="app" class="hidden" style="display:flex; width:100%;">
        <div class="sidebar">
            <h2 id="user-greeting" style="color:var(--red); margin-bottom:30px;">×©×œ×•×</h2>
            <div class="nav-item" tabindex="0" onclick="renderHome()">ğŸ  ×“×£ ×”×‘×™×ª</div>
            <div class="nav-item" tabindex="0">ğŸ“º ×¡×“×¨×•×ª</div>
            <div class="nav-item" tabindex="0">ğŸ¬ ×¡×¨×˜×™×</div>
            <div class="nav-item" tabindex="0">ğŸ§¸ ×™×œ×“×™×</div>
        </div>
        <div class="content" id="main-view"></div>
    </div>

    <script src="data.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAuJlFyTuYypCVdJrZCrQGOEZZS5WDH6pI",
            authDomain: "app-c71dd.firebaseapp.com",
            projectId: "app-c71dd",
            storageBucket: "app-c71dd.firebasestorage.app",
            messagingSenderId: "256556501971",
            appId: "1:256556501971:web:98dbba775b0b8ca913bd26"
        };
        firebase.initializeApp(firebaseConfig);

        function login() {
            const provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(provider);
        }

        firebase.auth().onAuthStateChanged(user => {
            if (user && user.email === "nitaylayish298@gmail.com") {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('profile-screen').classList.remove('hidden');
            }
        });

        function selectProfile(name, img) {
            document.getElementById('profile-screen').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            document.getElementById('user-greeting').innerText = "×©×œ×•×, " + name;
            renderHome();
        }

        function renderHome() {
            const view = document.getElementById('main-view');
            view.innerHTML = '<h1>×”×¡×“×¨×•×ª ×©×œ×™</h1><div class="row" id="series-row"></div>';
            seriesData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.tabIndex = "0";
                card.innerHTML = `<img src="${item.image}"><div style="padding:15px; text-align:center;"><b>${item.title}</b></div>`;
                card.onclick = () => showEpisodes(item);
                document.getElementById('series-row').appendChild(card);
            });
        }

        function showEpisodes(series) {
            const view = document.getElementById('main-view');
            view.innerHTML = `<button class="nav-item" onclick="renderHome()">â† ×—×–×•×¨</button>
                             <h1>${series.title}</h1><p>${series.description}</p><div id="ep-list"></div>`;
            series.episodes.forEach(ep => {
                const row = document.createElement('div');
                row.className = 'nav-item';
                row.tabIndex = "0";
                row.innerHTML = `â–¶ ${ep.name} - ${ep.desc}`;
                row.onclick = () => {
                    const previewUrl = `https://drive.google.com/file/d/${ep.driveId}/view?authuser=0`;
                    window.location.href = previewUrl;
                };
                document.getElementById('ep-list').appendChild(row);
            });
        }
    </script>
</body>
</html>
