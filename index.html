<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>HotPlay TV</title>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>
    <style>
        :root { --red: #e50914; --bg: #141414; --card-w: 250px; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; display: flex; height: 100vh; }
        
        /* ×ª×¤×¨×™×˜ ×¦×“×“×™ ××•×ª×× ×œ×©×œ×˜ */
        .sidebar { width: 20%; background: #000; padding: 40px 20px; border-left: 2px solid #333; }
        .nav-item { padding: 20px; font-size: 22px; cursor: pointer; border-radius: 10px; margin-bottom: 10px; }
        .nav-item:focus { background: var(--red); outline: none; transform: scale(1.05); }

        /* ××–×•×¨ ×”×ª×•×›×Ÿ */
        .content { width: 80%; padding: 50px; overflow-y: auto; }
        .row { display: flex; gap: 20px; padding: 20px 0; overflow-x: auto; }
        
        /* ×›×¨×˜×™×¡ ×¡×“×¨×” ×¢× ××¤×§×˜ ×¤×•×§×•×¡ ×œ×˜×œ×•×•×™×–×™×” */
        .card { min-width: var(--card-w); background: #222; border-radius: 15px; overflow: hidden; transition: 0.3s; border: 3px solid transparent; }
        .card:focus { transform: scale(1.1); border-color: white; outline: none; box-shadow: 0 0 20px rgba(255,255,255,0.4); }
        .card img { width: 100%; height: 150px; object-fit: cover; }
        .card-info { padding: 15px; text-align: center; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="login-screen" style="width:100%; text-align:center; padding-top:20vh;">
        <h1 style="color:var(--red); font-size:80px;">HotPlay</h1>
        <button id="login-btn" class="nav-item" onclick="login()">×”×ª×—×‘×¨ ×¢× Google</button>
    </div>

    <div id="app" class="hidden" style="display:flex; width:100%;">
        <div class="sidebar">
            <h2 style="color:var(--red);">×ª×¤×¨×™×˜</h2>
            <div class="nav-item" tabindex="0" onclick="renderHome()">ğŸ  ×“×£ ×”×‘×™×ª</div>
            <div class="nav-item" tabindex="0">ğŸ“º ×¡×“×¨×•×ª</div>
            <div class="nav-item" tabindex="0">ğŸ¬ ×¡×¨×˜×™×</div>
            <div class="nav-item" tabindex="0">ğŸ§¸ ×™×œ×“×™×</div>
        </div>
        <div class="content" id="main-view"></div>
    </div>

    <script src="data.js"></script>
    <script>
        // ×§×•× ×¤×™×’×•×¨×¦×™×” ××”×“×¨×™×™×‘ ×©×œ×š
        const firebaseConfig = {
            apiKey: "AIzaSyAuJlFyTuYypCVdJrZCrQGOEZZS5WDH6pI",
            authDomain: "app-c71dd.firebaseapp.com",
            projectId: "app-c71dd",
            storageBucket: "app-c71dd.firebasestorage.app",
            messagingSenderId: "256556501971",
            appId: "1:256556501971:web:98dbba775b0b8ca913bd26"
        };
        firebase.initializeApp(firebaseConfig);

        function login() {
            const provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(provider);
        }

        firebase.auth().onAuthStateChanged(user => {
            if (user && user.email === "nitaylayish298@gmail.com") {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('app').classList.remove('hidden');
                renderHome();
            }
        });

        function renderHome() {
            const view = document.getElementById('main-view');
            view.innerHTML = '<h1>×”×¡×“×¨×•×ª ×©×œ×™</h1><div class="row" id="series-row"></div>';
            
            seriesData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.tabIndex = "0"; // ×××¤×©×¨ ×¤×•×§×•×¡ ×‘×©×œ×˜
                card.innerHTML = `<img src="${item.image}"><div class="card-info"><b>${item.title}</b></div>`;
                card.onclick = () => showEpisodes(item);
                document.getElementById('series-row').appendChild(card);
            });
        }

        function showEpisodes(series) {
            const view = document.getElementById('main-view');
            view.innerHTML = `<button class="nav-item" onclick="renderHome()">â† ×—×–×•×¨</button>
                             <h1>${series.title}</h1><p>${series.description}</p>
                             <div id="ep-list"></div>`;
            
            series.episodes.forEach(ep => {
                const row = document.createElement('div');
                row.className = 'nav-item';
                row.tabIndex = "0";
                row.innerHTML = `â–¶ ${ep.name} - ${ep.desc}`;
                // ×”×¤×™×›×ª ×”-ID ×œ×§×™×©×•×¨ ×™×©×™×¨ ×œ× ×’×Ÿ
                row.onclick = () => {
                    const directUrl = `https://drive.google.com/u/0/uc?id=${ep.driveId}&export=download`;
                    window.location.href = directUrl;
                };
                document.getElementById('ep-list').appendChild(row);
            });
        }
    </script>
</body>
</html>
